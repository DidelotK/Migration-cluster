---
# Playbook pour l'installation du cÅ“ur K3s
- name: "ğŸš€ Installation du cÅ“ur K3s"
  hosts: k3s_servers
  become: true
  gather_facts: true

  roles:
  - role: k3s
    tags: [ k3s ]

  - role: helm
    tags: [ helm ]

  post_tasks:
  - name: "âœ… Installation K3s terminÃ©e"
    debug:
      msg: |
        ğŸ‰ CÅ“ur K3s installÃ© avec succÃ¨s!

        ğŸ“Š Cluster K3s:
        - Version: {{ k3s_version }}
        - NÅ“uds: {{ groups['k3s_servers'] | length }}
        - API: https://{{ ansible_default_ipv4.address }}:6443

        ğŸ› ï¸  Outils installÃ©s:
        - kubectl (via k3s)
        - Helm {{ helm_version }}

        ğŸ”‘ Kubeconfig: {{ k3s_config_file }}

        ğŸš€ PrÃªt pour les composants additionnels!
