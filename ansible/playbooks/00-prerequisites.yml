---
# Playbook for prerequisites verification and installation
- name: "🔍 System prerequisites verification and installation"
  hosts: k3s_servers
  become: true
  gather_facts: true

  tasks:
  - name: "📋 System prerequisites verification"
    include_role:
      name: k3s
      tasks_from: prerequisites
    tags: [ prerequisites ]

  - name: "✅ System prerequisites installed"
    debug:
      msg: |
        🎉 Prerequisites installed successfully!

        ✅ System updated
        ✅ Required packages installed
        ✅ Kernel modules configured
        ✅ Sysctl parameters optimized
        ✅ Swap disabled
        ✅ K3s directories created

        🚀 System ready for K3s installation!
